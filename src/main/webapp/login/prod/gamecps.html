<!doctype html>
<html class="no-js">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>指悦游戏 登录地址</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp"/>

    <link href="https://zyh5games.com/zysdk/images/favicon.ico" rel="shortcut icon" type="image/x-icon"/>
    <link rel="stylesheet" href="https://lib.baomitu.com/amazeui/2.7.2/css/amazeui.css">
    <link rel="stylesheet" href="https://zyh5games.com/zysdk/login/prod/app.css?0616">

    <script src="https://lib.baomitu.com/jquery/3.5.0/jquery.min.js"></script>
    <script src="https://lib.baomitu.com/modernizr/2010.07.06dev/modernizr.min.js"></script>
    <script src="https://lib.baomitu.com/amazeui/2.7.2/js/amazeui.ie8polyfill.min.js"></script>
    <script src="https://lib.baomitu.com/amazeui/2.7.2/js/amazeui.min.js"></script>
    <script src="https://lib.baomitu.com/clipboard.js/2.0.6/clipboard.min.js"></script>
    <script src="https://zyh5games.com/zysdk/login/prod/app.js?0616"></script>
</head>
<body>
<div class="am-g am-panel am-panel-secondary" style="width: 80%;margin-top: 5%">
    <!-- LOGO -->
    <div class="am-u-sm-12 am-text-center">
        <img src="https://zyh5games.com/zysdk/images/login/jiemian5.png" alt="图片未显示时名称" class="zhiyue">
    </div>
    <div class="am-text-center am-u-sm-11 am-u-sm-centered myapp-login-form-shortcut">
        <hr class="myapp-login-form-hr"/>
    </div>

    <!-- 登陆框 -->
    <div class="am-u-sm-11 am-u-sm-centered" id="myapp-main-login-form">
        <form class="am-form">
            <fieldset class="myapp-login-form am-form-set">
                <div class="am-form-group am-form-icon">
                    <i class="am-icon-user " id="myapp-login-user-icon"></i>
                    <input type="text" class="myapp-login-input-text am-form-field" placeholder="输入账号或手机号"
                           id="loginname">
                </div>
                <span class="am-text-left myapp-phone-reg-form" style="font-size: 8px"
                      hidden="hidden"> 密码长度必须超过6位（含6位）</span>
                <div class="am-form-group am-form-icon" id="myapp-main-login-password-form">
                    <i class="am-icon-lock"></i>
                    <input type="text" class="myapp-login-input-text am-form-field" placeholder="请输入你的密码" id="password">
                </div>
                <div class="am-form-group am-form-icon " id="myapp-phone-login-code-form" hidden="hidden">
                    <i class="am-icon-lock"></i>
                    <input type="text" class="myapp-login-input-text am-form-field" placeholder="请输入验证码" id="code">
                </div>
            </fieldset>
            <div class="am-text-center am-u-sm-12 am-u-sm-centered myapp-login-form-shortcut-proto">
                <span class="am-icon-check-circle " id="myapp-loign-select-protocol"></span>
                <span class="doc-icon-custom am-text-center"> 我已详细阅读并同意 指悦网络科技游戏隐私保护协议</span>
                <span class="myapp-login-form-hr-font-proto "></span>
            </div>


            <button type="button" class="myapp-login-form-submit am-btn am-btn-primary am-btn-block btn-none"
                    id="myapp-phone-login-code-btn" onclick="getCode(this,1)">获取登录验证码
            </button>

            <button type="button" class="myapp-login-form-submit am-btn am-btn-primary am-btn-block btn-none"
                    id="myapp-phone-register-code-btn" onclick="getCode(this,0)">获取注册验证码
            </button>

            <button type="button" class="myapp-login-form-submit am-btn am-btn-primary am-btn-block "
                    id="myapp-main-login-code-btn" onclick="enterGame()">进入游戏
            </button>
            <button type="button" class="myapp-login-form-submit am-btn am-btn-primary am-btn-block btn-none"
                    id="myapp-login-code-btn" onclick="zy_phone_Login()">手机进入游戏
            </button>
            <button type="button" class="myapp-login-form-submit am-btn am-btn-primary am-btn-block btn-none"
                    id="myapp-phone-register-btn" onclick="phoneReg()">手机注册
            </button>

            <div class="am-text-center am-u-sm-12 am-u-sm-centered myapp-login-form-shortcut-proto"
                 id="myapp-login-form-copy">
                <button type="button"
                        class="copyBtn am-btn am-btn-default am-round am-text-center myapp-main-decoration"
                        data-clipboard-target="#bar" style="background-color: #FFFFFF"> 复制账号密码
                </button>
            </div>

            <div class="am-text-center am-u-sm-12 am-u-sm-centered myapp-login-form-shortcut-proto"
                 id="myapp-phone-login-change-code" hidden="hidden">
                <button type="button" onclick="showPhoneCodeLoginPage()"
                        class=" am-btn am-btn-default am-round am-text-center myapp-main-decoration"
                        style="background-color: #FFFFFF"> 切换验证码登录
                </button>
            </div>

            <div class="am-text-center am-u-sm-12 am-u-sm-centered myapp-login-form-shortcut-proto"
                 id="myapp-phone-login-change-password" hidden="hidden">
                <button type="button" onclick="showPhonePasswordLoginPage()"
                        class=" am-btn am-btn-default am-round am-text-center myapp-main-decoration"
                        style="background-color: #FFFFFF"> 切换密码登录
                </button>
            </div>
        </form>
    </div>

    <!-- 一键注册    -->
    <div class="am-u-sm-11 am-u-sm-centered" id="myapp-autoReg-form" hidden="hidden">
        <div class="am-text-center am-u-sm-12 am-u-sm-centered myapp-login-form-shortcut-proto">
            <span class="doc-icon-custom am-text-center register" style="font-size: 30px"><strong>一键注册</strong></span>
        </div>
        <div class="am-text-center am-u-sm-12 am-u-sm-centered myapp-login-form-shortcut-proto">
            <span class="doc-icon-custom am-text-center ">点击完成注册快速生成账号密码</span>
        </div>
    </div>

    <div class="am-u-sm-12 am-text-center myapp-login-form-listico" id="myapp-autoReg-else-btn" hidden="hidden">
        <button type="button" class="myapp-login-form-submit am-btn-primary am-btn-block "
                hidden="hidden" onclick="OneStepRegister()">完成注册
        </button>
    </div>


    <div class="am-text-center am-u-sm-11 am-u-sm-centered myapp-login-form-shortcut" id="myapp-main-else-btn-tip">
        <hr class="myapp-login-form-hr"/>
        <span class="myapp-login-form-hr-font">其他功能</span>
    </div>

    <div class="am-u-sm-12 am-text-center myapp-login-form-listico" id="myapp-main-else-btn1">
        <div class="am-u-sm-6 am-text-center">
            <button type="button" class="am-btn am-btn-default am-round " onclick="showMainPage(false)">游客试玩
            </button>
        </div>
        <div class="am-u-sm-6 am-text-center">
            <button type="button" class="am-btn am-btn-default am-round" onclick="showPhoneLoginPage()">手机登录
            </button>
        </div>
    </div>

    <div class="am-u-sm-12 am-text-center myapp-login-form-listico" id="myapp-main-else-btn2">
        <div class="am-u-sm-6 am-text-center">
            <button type="button" class="am-btn am-btn-default am-round" onclick="showMainPage(false)">账号注册</button>
        </div>
        <!--        <div class="am-u-sm-6 am-text-center">-->
        <!--            <button type="button" class="am-btn am-btn-default am-round">遇到问题</button>-->
        <!--        </div>-->
    </div>

    <div class="am-u-sm-12 am-text-center myapp-login-form-listico" id="myapp-phone-else-btn1" hidden="hidden">
        <div class="am-u-sm-6 am-text-center">
            <button type="button" class="am-btn am-btn-default am-round " onclick="showMainPage(false)">游客试玩
            </button>
        </div>
        <!--        <div class="am-u-sm-6 am-text-center">-->
        <!--            <button type="button" class="am-btn am-btn-default am-round">暂且为空-->
        <!--            </button>-->
        <!--        </div>-->
    </div>

    <div class="am-u-sm-12 am-text-center myapp-login-form-listico" id="myapp-phone-else-btn2" hidden="hidden">
        <div class="am-u-sm-6 am-text-center">
            <button type="button" class="am-btn am-btn-default am-round" onclick="showPhoneRegPage()">手机注册</button>
        </div>
        <div class="am-u-sm-6 am-text-center">
            <button type="button" class="am-btn am-btn-default am-round" onclick="myapp_Init()">返回</button>
        </div>
    </div>

    <!--
        <div class="am-text-center am-u-sm-11 am-u-sm-centered myapp-login-form-shortcut">
            <hr class="myapp-login-form-hr"/>
            <span class="myapp-login-form-hr-font">第三方登陆</span>
        </div>

        <div class="am-u-sm-12 am-text-center myapp-login-form-listico">
            <div class="am-u-sm-4 am-text-center">
                <i class="am-icon-btn am-primary am-icon-qq"></i>
            </div>
            <div class="am-u-sm-4 am-text-center">
                <i class="am-icon-btn am-danger am-icon-weibo"></i>
            </div>
        </div>
    -->
    <div class="am-text-center am-u-sm-11 am-u-sm-centered myapp-login-form-shortcut" id="myapp-main-bottom-tip">
        <hr class="myapp-login-form-hr"/>
        <span class="myapp-login-form-hr-font">客服QQ：602824414</span>
    </div>

    <div class="am-text-center am-u-sm-11 am-u-sm-centered myapp-login-form-shortcut" id="myapp-autoReg-bottom-tip"
         hidden="hidden">
        <hr class="myapp-login-form-hr"/>
    </div>

    <div class="am-u-sm-12 am-text-center myapp-login-form-listico" id="myapp-autoReg-else-btn1" hidden="hidden">
        <span class="am-icon-check-circle " id="myapp-autoReg-select-protocol"></span>
        <span class="doc-icon-custom am-text-center"> 注册即同意 《服务条款》</span>
    </div>

    <div class="am-u-sm-12 am-text-center myapp-login-form-listico" id="myapp-autoReg-else-btn2" hidden="hidden">
        <div class="am-text-center">
            <button type="button" class="am-btn am-btn-default am-round" onclick="myapp_Init()">返回</button>
        </div>
    </div>
</div>

<div class="am-slider am-slider-default"
     data-am-flexslider="{controlNav: 'thumbnails', directionNav: false, slideshow: false}">
    <ul class="am-slides">
        <!--        <li data-thumb="http://s.amazeui.org/media/i/demos/pure-4.jpg?imageView2/0/w/360"></li>-->
    </ul>

    <input type="text" name="bar" id="bar" hidden="hidden" value="">
    <input type="text" id="url_appId" hidden="hidden">
    <input type="text" id="url_channelId" hidden="hidden">
    <input type="text" id="url_appKey" hidden="hidden">

    <input type="text" id="url_channelUid" hidden="hidden">
    <input type="text" id="url_uid" hidden="hidden">
</div>

<script>
    let mainSelect = true;
    let oneStepSelect = true;
    $(function () {
        let clipboard = new ClipboardJS('.copyBtn', {
            text: function () {
                return $("input:hidden[name='bar']").val();
            }
        });

        clipboard.on('success', function (e) {
            alert("已复制到剪贴板");
            // e.clearSelection();
        });

        clipboard.on('error', function (e) {
            console.error('Action:', e.action);
            console.error('Trigger:', e.trigger);
        });


        //给返回首页修改密码按钮添加单击事件
        $("#myapp-loign-select-protocol").on("click", function () {
            let protocol = document.getElementById("myapp-loign-select-protocol");
            let protoName = protocol.className;
            if (protoName === "am-icon-ban") {
                protocol.className = "am-icon-check-circle";
                mainSelect = true;
            } else {
                protocol.className = "am-icon-ban";
                mainSelect = false;
            }
        });


        $("#myapp-autoReg-select-protocol").on("click", function () {
            let protocol = document.getElementById("myapp-autoReg-select-protocol");
            let protoName = protocol.className;
            if (protoName === "am-icon-ban") {
                protocol.className = "am-icon-check-circle";
                oneStepSelect = true;
            } else {
                protocol.className = "am-icon-ban";
                oneStepSelect = false;
            }
        });

        myapp_Init();

        /*获取到Url里面的参数*/
        (function ($) {
            $.getUrlParam = function (name) {
                var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
                var r = window.location.search.substr(1).match(reg);
                if (r != null) return unescape(r[2]);
                return null;
            }
        })(jQuery);

        let appId = $.getUrlParam('appId');
        let channelId = $.getUrlParam('channelId');
        let appKey = "u6d3047qbltix34a9l0g2bvs5e8q82ol";
        if (appId === "20") {
            appKey = "y24t2ngxjo2upafio4998uer171q4c8l";
        }

        console.info("appId=[" + appId + "]");
        console.info("channelId=[" + channelId + "]");
        $("#url_appId").val(appId);
        $("#url_channelId").val(channelId);
        $("#url_appKey").val(appKey);

        let zy_account = getCookies("zy_account");
        let zy_password = getCookies("zy_password");
        let zy_channelUid = getCookies("zy_channelUid");

        console.info("zy_account=[" + zy_account + "]");
        console.info("zy_password=[" + zy_password + "]");
        console.info("zy_channelUid=[" + zy_channelUid + "]");


        $("#loginname").val(zy_account);
        $("#password").val(zy_password);
        // resetLogin();
        setCopy();
    });

    function setCopy() {
        let res = "账号=" + $("#loginname").val() + "&密码=" + $("#password").val();
        $("#bar").val(res);
    }

    function resetLogin() {
        delCookie("zy_account");
        delCookie("zy_password");
        delCookie("zy_channelUid");
    }

    //倒计时
    let codeTime = 60;
    let countdown = 60;

    function getCode(val, type) {
        countdown = codeTime;
        if (checkPhone()) {
            ZhiYuePhoneCode(val, type, function (res) {
                setTime(val, res)
            })
        } else {
            alert("手机号码有误，请重填");
            countdown = 0;
        }
    }

    function setTime(val, res) {
        if (res !== undefined && !res) {
            return;
        }
        if (countdown === 0) {
            val.removeAttribute("disabled");
            val.innerHTML = "获取验证码";
            countdown = codeTime;
            return false;
        } else {
            val.setAttribute("disabled", true);
            val.innerHTML = "重新发送(" + countdown + ")";
            countdown--;
        }
        setTimeout(function () {
            setTime(val);
        }, 1000);
    }

    function checkPhone() {
        let phone = document.getElementById('loginname').value;
        return /^1[3456789]\d{9}$/.test(phone);
    }

</script>

</body>
</html>
